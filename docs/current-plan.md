# Implementation Plan: TASK-001 - Initialize Expo Project with TypeScript

## 1. Goal
Initialize the TrueNorth iOS app using Expo with TypeScript. Establish the foundational project structure, configure essential settings, and verify the app runs successfully on both iOS Simulator and physical device via Expo Go.

## 2. Files to Create/Edit
**Auto-generated by Expo (will verify and modify):**
- `app.json` - Expo configuration (name, slug, scheme)
- `tsconfig.json` - TypeScript configuration (strict mode)
- `package.json` - Project dependencies and scripts
- `App.tsx` - Application entry point (initial verification)

**Created during setup:**
- `node_modules/` - Dependencies
- `assets/` - Icons and splash screens
- `.gitignore` - Git exclusions

## 3. Step-by-Step Implementation

### Phase 1: Pre-Setup Verification
1. **Verify Xcode CLI Path**
   - [ ] Run `xcode-select -p` to check current path
   - [ ] If not pointing to `/Applications/Xcode.app/Contents/Developer`, run:
     ```bash
     sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
     ```
   - [ ] Verify Xcode is properly installed and licensed

2. **Check Node.js Version**
   - [ ] Run `node --version` (should be v20.19.4)
   - [ ] Verify npm is available: `npm --version`

### Phase 2: Create Expo Project
3. **Initialize Project with Expo**
   - [ ] Navigate to parent directory: `cd /Users/dsalman`
   - [ ] Create project: `npx create-expo-app@latest TrueNorth --template blank-typescript`
   - [ ] Wait for installation to complete (~2-3 minutes)
   - [ ] Navigate into project: `cd TrueNorth`

### Phase 3: Configure Project Files
4. **Update app.json Configuration**
   - [ ] Open `app.json`
   - [ ] Verify/update the following fields:
     ```json
     {
       "expo": {
         "name": "TrueNorth",
         "slug": "truenorth",
         "scheme": "truenorth",
         "version": "1.0.0",
         "orientation": "portrait",
         "icon": "./assets/icon.png",
         "userInterfaceStyle": "light",
         "splash": {
           "image": "./assets/splash.png",
           "resizeMode": "contain",
           "backgroundColor": "#F5F7FA"
         },
         "ios": {
           "supportsTablet": false,
           "bundleIdentifier": "com.dsalman.truenorth"
         },
         "android": {
           "adaptiveIcon": {
             "foregroundImage": "./assets/adaptive-icon.png",
             "backgroundColor": "#F5F7FA"
           }
         }
       }
     }
     ```

5. **Verify TypeScript Configuration**
   - [ ] Open `tsconfig.json`
   - [ ] Ensure `"strict": true` is enabled
   - [ ] Verify `"extends": "expo/tsconfig.base"` is present
   - [ ] Check that `"jsx": "react-native"` is configured

6. **Review package.json Scripts**
   - [ ] Verify the following scripts exist:
     ```json
     "scripts": {
       "start": "expo start",
       "android": "expo start --android",
       "ios": "expo start --ios",
       "web": "expo start --web"
     }
     ```

### Phase 4: Initial Testing
7. **Start Development Server**
   - [ ] Run `npx expo start`
   - [ ] Wait for Metro bundler to start
   - [ ] Verify QR code appears in terminal
   - [ ] Check for any error messages

8. **Test on iOS Simulator**
   - [ ] Press `i` in terminal to open iOS Simulator
   - [ ] Wait for app to build and launch
   - [ ] Verify white screen with "Open up App.tsx to start working on your app!" appears
   - [ ] Check for any console errors

9. **Test on Physical Device (Expo Go)**
   - [ ] Ensure Expo Go app is installed on iPhone
   - [ ] Open Expo Go app
   - [ ] Scan QR code from terminal
   - [ ] Verify app loads successfully
   - [ ] Check that hot reload works (edit App.tsx and save)

10. **Verify TypeScript Integration**
    - [ ] Open `App.tsx` in Cursor
    - [ ] Add intentional type error (e.g., `const x: number = "string"`)
    - [ ] Verify Cursor shows red squiggle/error
    - [ ] Remove the error
    - [ ] Verify no TypeScript errors in terminal

### Phase 5: Documentation & Cleanup
11. **Initial Git Setup (Optional but Recommended)**
    - [ ] Run `git init` if not already initialized
    - [ ] Verify `.gitignore` includes `node_modules/`, `.expo/`, `dist/`
    - [ ] Create initial commit: `git add . && git commit -m "chore: initialize Expo project with TypeScript"`

12. **Documentation & Readability**
    - [ ] Review generated file structure
    - [ ] Document any deviations from expected structure
    - [ ] Note current Expo SDK version in project documentation

## 4. Verification Steps
- [ ] **Build Success:** `npx expo start` runs without errors
- [ ] **iOS Simulator:** App opens and displays default Expo screen
- [ ] **Expo Go:** App loads on physical iPhone via QR scan
- [ ] **Hot Reload:** Changes to `App.tsx` reflect immediately
- [ ] **TypeScript:** IDE shows type errors correctly
- [ ] **Configuration:** `app.json` has correct name "TrueNorth" and slug "truenorth"
- [ ] **Project Structure:** All expected files exist:
  - `app.json` ✓
  - `tsconfig.json` ✓
  - `package.json` ✓
  - `App.tsx` ✓
  - `assets/` folder ✓
  - `node_modules/` folder ✓

## 5. Success Criteria
✅ Project successfully created with Expo blank-typescript template  
✅ App runs on iOS Simulator without errors  
✅ App loads on physical device via Expo Go  
✅ TypeScript strict mode enabled and working  
✅ App configuration updated with TrueNorth branding  
✅ Development environment verified and ready for next phase

## 6. Next Steps (Post-Completion)
After completing TASK-001, proceed to:
- **TASK-002:** Configure Expo Router for file-based navigation
- **TASK-003:** Set up NativeWind (Tailwind CSS)

## 7. Rollback Plan
If issues occur:
1. Delete the TrueNorth directory: `rm -rf TrueNorth`
2. Clear npm cache: `npm cache clean --force`
3. Re-run setup commands from Phase 2

## 8. Notes
- Estimated time: 1-2 hours (S)
- This is a critical foundation task—all subsequent tasks depend on it
- Ensure stable internet connection for npm package downloads
- Keep terminal output for debugging if issues arise
- Current environment: macOS darwin 25.2.0, Node v20.19.4
